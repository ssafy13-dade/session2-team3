#  분석 전략 정리 (퀀트 기반)

- 퀀트 전략이란 = **"수치화된 규칙"에 따라 매매하는 전략**

---

##  1. 핼러윈 효과 (퀀트 전략 - **계절성 전략**)

- **10월에 사고, 5월에 파는 기법**
- 단순하지만 실증적으로 검증된 계절 효과
- **인간의 심리 / 생체 리듬 / 행동경제학**적 요인이 숨어 있음

> **진짜 그냥 10월에 사서 5월에 파는 거임  ㅇㅇ**

---

##  2. RSI (퀀트 전략 - **숫자 기반 전략**)

- **상대 강도 지수(Relative Strength Index)** 활용
- RSI 범위를 넓게 잡을수록:
  -  **노이즈가 줄고** → **승률은 올라감**
  -  **진입 기회는 줄어듦** → **수익률은 낮아짐**
- 전략 예시:
  - RSI(30) < 30 → 매수 진입
  - RSI(30) > 70 → 매도 or 관망

---

##  3. 골든 크로스 / 데드 크로스 (퀀트 전략 - **숫자 기반 전략**)

- **이동 평균선(MA)** 교차를 활용한 추세 포착 전략
- 손실 최소화 + 추세 진입 시점 파악 가능

### 활용 기준:
- **단기선 vs 장기선**: MA20, MA60, MA150, MA250
- **신호 예시**:
  - 골든 크로스: MA20이 MA60을 위로 돌파 → 매수 신호
  - 데드 크로스: MA20이 MA60을 아래로 돌파 → 매도 신호

---

##  4. 보고서 발표 후 가격 반응 분석

- **재무제표 발표 후** 주가가 어떻게 반응하는지 확인
- **단기적 패턴을 수익으로 연결**할 수 있는 전략 가능성 있음

### 기준일 수익률 확인:
- 발표일 기준 **1, 5, 20 영업일 후 가격 변화**
- 현재는 **가격 데이터만 활용** (추후 실적 컨센서스 등과 조합 가능)

---
---
---
---

# 기술적 분석 기반 주식 파생변수 생성 및 시각화

## 1. 데이터 수집 및 전처리

- PostgreSQL에서 주가 데이터를 불러온다.
  - **지수 데이터**는 별도 DataFrame으로 저장
  - **종목 데이터**는 종목별로 나눠서 2023년 데이터를 각각 불러온다

- 각 종목 데이터에 **지수 데이터를 병합**하여 전체 시장 흐름 반영

---

## 2. 파생변수 생성

### 사용 지표

- **이동평균선 (MA)**: 단순 이동 평균
- **지수이동평균선 (EMA)**: 최근 가격에 더 큰 가중치
- **RSI (상대강도지수)**: 과매수/과매도 판단 지표
- **공포지수**: 변동성 + 거래량 + 모멘텀을 기반으로 계산한 커스텀 공포지수
- **핼러윈 전략 플래그**: 날짜 기준 (10월~4월 여부)

### 수익률 계산

- **로그 수익률 (Log Return)** 계산 후,
- **누적 로그 수익률**로 누적 수익 곡선 생성

---

## 3. 저장 방식

- 종목별로 파생변수를 포함한 DataFrame을 **CSV 파일로 저장**
- 다음 종목 처리 시, 결과를 기존 CSV 아래에 이어붙임
- 모든 종목 데이터가 처리된 후,
  - 하나의 **통합 DataFrame**으로 병합
  - PostgreSQL에 새 테이블로 저장 (`df.to_sql(...)` 사용)

---

## 4. 시각화 및 간단 EDA

- 각 종목에 대해 다음 요소를 시각화:
  - 주요 기술 지표 (RSI, MA, EMA 등)
  - 커스텀 공포지수
  - 누적 수익률 곡선

- **케이스별로 간단한 설명 주석 첨부**
  - 예: RSI가 70 이상일 때 고점 여부, 공포지수 급등 이후 반등 여부 등

---

## 5. 미국 주식 (미장) 분석

- 동일한 분석 방식 적용
- 별도의 데이터 소스/API에서 미장 종목, 지수 데이터 수집
- 파생변수 계산, 저장, 시각화는 한국 주식과 동일한 흐름

---

## 기타 참고

- 분석에 사용되는 주요 라이브러리: `pandas`, `numpy`, `ta`, `matplotlib`, `sqlalchemy`
- 향후 계획: 백테스트, 전략 수익 비교, 모델 입력 피처셋 구성





## ko_stock_with_features

#### columns

- 'code', 'date', 'open', 'high', 'low', 'close', 'volume', 'change', 'open_ks11', 'high_ks11', 'low_ks11', 'close_ks11', 'volume_ks11','change_ks11', 'updown', 'comp', 'amount', 'marcap', 'market', 'MA_5',
'MA_20', 'EMA_5', 'EMA_20', 'RSI_14', 'volatility_10', 'volume_change','red_candle', 'red_ratio_10', 'momentum_10', 'fear_index'


## extract_individual stocks

#### columns

- ['code', 'open', 'high', 'low', 'close', 'volume', 'change','week_moving_avg', 'month_moving_avg', 'quarter_moving_avg','half_annual_moving_avg', 'log_change', 'weekly_return_sum','monthly_return_sum', 'quarterly_return_sum']

## extract_individual_resampling 

- 
